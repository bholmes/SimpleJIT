using SimpleJIT.Core;

Console.WriteLine("Testing empty instructions JIT compilation...");

try 
{
    var instructions = new List<Instruction>();
    var compiledFunction = JitCompiler.CompileInstructions(instructions);
    
    if (compiledFunction != null)
    {
        Console.WriteLine("JIT compilation succeeded for empty instructions");
        var result = compiledFunction();
        Console.WriteLine($"Result: {result}");
    }
    else 
    {
        Console.WriteLine("JIT compilation returned null");
    }
}
catch (Exception ex)
{
    Console.WriteLine($"Exception during JIT test: {ex.Message}");
    Console.WriteLine($"Stack trace: {ex.StackTrace}");
}
